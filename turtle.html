<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Code Cadets Turtle</title>

  <script src="https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js"></script>

  <style>
    body { margin:0; padding:14px; font-family:system-ui; }
    #layout { display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
    textarea { width:100%; height:260px; font-family: ui-monospace, monospace; font-size:14px; padding:10px; }
    canvas { background:#fff; border:1px solid #ccc; border-radius:8px; }
    button { padding:8px 12px; border-radius:8px; border:1px solid #333; background:#111; color:#fff; cursor:pointer; }
  </style>
</head>

<body>
  <h3>Code Cadets – Python Turtle</h3>

  <div id="layout">
    <div>
      <textarea id="code">
import turtle

turtle.forward(100)
turtle.left(90)
turtle.forward(100)
      </textarea>

      <button id="run" disabled>Run</button>
      <div id="status">Loading Python…</div>
    </div>

    <canvas id="canvas" width="400" height="400"></canvas>
  </div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const statusEl = document.getElementById("status");
const runBtn = document.getElementById("run");
const codeEl = document.getElementById("code");

// Turtle state
let x = 200, y = 200;
let angle = 0;
let penDown = true;

function resetCanvas(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  x = 200; y = 200; angle = 0; penDown = true;
}

function forward(dist){
  const rad = angle * Math.PI / 180;
  const nx = x + Math.cos(rad) * dist;
  const ny = y - Math.sin(rad) * dist;
  if (penDown){
    ctx.beginPath();
    ctx.moveTo(x,y);
    ctx.lineTo(nx,ny);
    ctx.stroke();
  }
  x = nx; y = ny;
}

function left(deg){ angle +=
